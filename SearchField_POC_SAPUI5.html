<!DOCTYPE html>
<html><head>
    <meta http-equiv='X-UA-Compatible' content='IE=edge' />
    <title>Runable Code created by Fast Designer</title>

<script id="sap-ui-bootstrap" 
       src="resources/sap-ui-core.js"
       data-sap-ui-theme="sap_bluecrystal"
       data-sap-ui-xx-bindingSyntax="complex"
       data-sap-ui-libs="sap.m,sap.ui.commons,sap.ui.table,sap.ui.comp"
       >
</script>

<script id="myXmlContent" type="text/xmldata"> 
<core:View
    controllerName="test"
    xmlns="sap.m"
    xmlns:core="sap.ui.core">

    <Page>
        <content>
            <Panel>
            <content>
                <SearchField
                    enableSuggestions="true"
                    id="mySearch"
                    suggestionItems="{path=/ProductCollection}"
                    suggest="onSuggest">
                    <suggestionItems>
                        <SuggestionItem
                            key="{name}"
                            text="{name}">
                        </SuggestionItem>
                    </suggestionItems>
                </SearchField>
                </content>
            </Panel>
            
        </content>
    </Page>
</core:View>
</script>
<script>
sap.ui.controller("test", {
    // ========OnInit part, add local demo data by guess, please adjust by yourself ============
    // ====For some binding if not start by /, please don't forget add the bindContext() ===

    onInit : function () {

        var demoData = 
        
            {
  "ProductCollection": [
    {
      "ProductId": "1239102",
      "Name": "Power Projector 4713",
      "Category": "Projector",
      "SupplierName": "Titanium",
      "Description": "A very powerful projector with special features for Internet usability, USB",
      "WeightMeasure": 1467,
      "WeightUnit": "g",
      "Price": 856.49,
      "CurrencyCode": "EUR",
      "Status": "Available",
      "Quantity": 3,
      "UoM": "PC",
      "Width": 51,
      "Depth": 42,
      "Height": 18,
      "DimUnit": "cm",
      "ProductPicUrl": "test-resources/sap/ui/demokit/explored/img/HT-6100.jpg"
    },
    {
      "ProductId": "2212-121-828",
      "Name": "Gladiator MX",
      "Category": "Graphics Card",
      "SupplierName": "Technocom",
      "Description": "Gladiator MX: DDR2 RoHS 128MB Supporting 512MB Clock rate: 350 MHz Memory Clock: 533 MHz, Bus Type: PCI-Express, Memory Type: DDR2 Memory Bus: 32-bit Highlighted Features: DVI Out, TV Out , HDTV",
      "WeightMeasure": 321,
      "WeightUnit": "g",
      "Price": 81.7,
      "CurrencyCode": "EUR",
      "Status": "Discontinued",
      "Quantity": 10,
      "UoM": "PC",
      "Width": 34,
      "Depth": 14,
      "Height": 2,
      "DimUnit": "cm",
      "ProductPicUrl": "test-resources/sap/ui/demokit/explored/img/HT-1071.jpg"
    }
  ],
  "ProductCollectionStats": {
    "Counts": {
      "Total": 14,
      "Weight": {
        "Ok": 7,
        "Heavy": 5,
        "Overweight": 2
      }
    },
    "Groups": {
      "Category": {
        "Projector": 1,
        "Graphics Card": 2,
        "Accessory": 4,
        "Printer": 2,
        "Monitor": 3,
        "Laptop": 1,
        "Keyboard": 1
      },
      "SupplierName": {
        "Titanium": 3,
        "Technocom": 3,
        "Red Point Stores": 5,
        "Very Best Screens": 3
      }
    },
    "Filters": [
      {
        "type": "Category",
        "values": [
          {
            "text": "Projector",
            "data": 1
          },
          {
            "text": "Graphics Card",
            "data": 2
          },
          {
            "text": "Accessory",
            "data": 4
          },
          {
            "text": "Printer",
            "data": 2
          },
          {
            "text": "Monitor",
            "data": 3
          },
          {
            "text": "Laptop",
            "data": 1
          },
          {
            "text": "Keyboard",
            "data": 1
          }
        ]
      },
      {
        "type": "SupplierName",
        "values": [
          {
            "text": "Titanium",
            "data": 3
          },
          {
            "text": "Technocom",
            "data": 3
          },
          {
            "text": "Red Point Stores",
            "data": 5
          },
          {
            "text": "Very Best Screens",
            "data": 3
          }
        ]
      }
    ]
  }

        };
        var oModel = new sap.ui.model.json.JSONModel();
        oModel.setData( demoData );
        this.getView().setModel( oModel ) ;
      
      var oView = this.getView();
			oView.setModel(this.oModel);
			this.oSF = oView.byId("mySearch");

    },

    // ========formatter part ============

    // ========Event Handler part ============
    onSuggest : function( oEvent )  {
        jQuery.sap.require("sap.ui.model.Filter");
      var value = oEvent.getParameter("suggestValue");
			var filters = [];
			if (value) {
				filters = [new sap.ui.model.Filter([
		                                               new sap.ui.model.Filter("name", function(sText) {
			                                            	return (sText || "").toUpperCase().indexOf(value.toUpperCase()) > -1;
			                                               })
		                                               ], false)];
			}
 
			this.oSF.getBinding("suggestionItems").filter(filters);
			this.oSF.suggest();
      
      
      
    },

});
var viewContent = sap.ui.xmlview({ viewContent: jQuery("#myXmlContent").html() });
    var myApp = new sap.m.App('myDemoApp');
    myApp.addPage(viewContent);
    myApp.placeAt("content");
</script>

</head>
<body class='sapUiBody'>
	<div id='content'></div>
</body>
</html>
